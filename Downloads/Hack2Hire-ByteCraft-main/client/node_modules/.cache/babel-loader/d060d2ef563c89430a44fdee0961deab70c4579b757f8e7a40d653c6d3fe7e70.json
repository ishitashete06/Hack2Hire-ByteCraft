{"ast":null,"code":"import { motion } from \"framer-motion\";\nimport process from \"process\";\nimport React from \"react\";\nimport { Animatable } from \"../../animation/Animatable/Animatable.js\";\nimport { safeWindow } from \"../../utils/safeWindow.js\";\nimport { collectOpacityFromProps } from \"../traits/Opacity.js\";\nimport { BackgroundImage } from \"../types/BackgroundImage.js\";\nimport { Color } from \"../types/Color/Color.js\";\nimport { LinearGradient } from \"../types/LinearGradient.js\";\nimport { calculateRect, constraintsEnabled, ParentSizeState, useParentSize } from \"../types/NewConstraints.js\";\nimport { RadialGradient } from \"../types/RadialGradient.js\";\nimport { RenderEnvironment, RenderTarget } from \"../types/RenderEnvironment.js\";\nimport { elementPropertiesForLinearGradient, elementPropertiesForRadialGradient } from \"../utils/elementPropertiesForGradient.js\";\nimport { collectFiltersFromProps } from \"../utils/filtersForNode.js\";\nimport { imagePatternPropsForFill } from \"../utils/imagePatternPropsForFill.js\";\nimport { injectComponentCSSRules } from \"../utils/injectComponentCSSRules.js\";\nimport { isFiniteNumber } from \"../utils/isFiniteNumber.js\";\nimport { layoutHintDataPropsForCenter } from \"../utils/layoutHintDataPropsForCenter.js\";\nimport { transformTemplate } from \"../utils/transformTemplate.js\";\nimport { useLayoutId } from \"../utils/useLayoutId.js\";\nimport { useMeasureLayout } from \"../utils/useMeasureLayout.js\";\nimport { resetSetStyle } from \"../utils/useWebkitFixes.js\";\nimport { useProvidedWindow } from \"../WindowContext.js\";\nimport { ImagePatternElement } from \"./ImagePatternElement.js\";\nimport { Layer } from \"./Layer.js\";\nimport { sharedSVGManager } from \"./SharedSVGManager.js\";\n// Before migrating to functional components we need to get parentSize data from context\n/**\n * @internal\n */\nexport function SVG(props) {\n  const parentSize = useParentSize();\n  const ariaId = \"svg\" + React.useId();\n  const layoutId = useLayoutId(props);\n  const layoutRef = React.useRef(null);\n  const providedWindow = useProvidedWindow();\n  useMeasureLayout(props, layoutRef);\n  return React.createElement(SVGComponent, {\n    ...props,\n    innerRef: layoutRef,\n    parentSize: parentSize,\n    ariaId: ariaId,\n    layoutId: layoutId,\n    providedWindow: providedWindow\n  });\n}\nconst MAX_BACKGROUND_SVG_TEXT_LENGTH = 50_000;\nfunction containsImageReference(svg) {\n  return svg.indexOf(\"image\") >= 0;\n}\nfunction containsCustomPropertyReference(svg) {\n  return svg.indexOf(\"var(--\") >= 0;\n}\nfunction hasBorderRadius(style) {\n  return !!(style.borderRadius || style.borderBottomLeftRadius || style.borderBottomRightRadius || style.borderTopLeftRadius || style.borderTopRightRadius);\n}\nfunction sizeSVG(container, props) {\n  const div = container.current;\n  if (!div) return;\n  // The ResponsiveScreenContainer.tsx of vekter allows content to be rendered into an iframe via\n  // a react portal. This means that the javascript is executed by react outside of the iframe,\n  // but the html elements are mounted inside the iframe. That means that attempting to do checks\n  // by reference between dom nodes and dom classes will fail. To work around this, we need to\n  // make sure that we use the same reference. We do this by creating a context that captures the\n  // value of the iframe's window, we then use that to reference the correct dom node class.\n  const localWindow = props.providedWindow ?? safeWindow;\n  const svg = div.firstElementChild;\n  if (!svg || !(svg instanceof localWindow.SVGSVGElement)) return;\n  // Workaround for Firefox mostly: Sometimes react dehydration does not update\n  // dangerouslySetInnerHTML properties. And ssg produces templates without viewBoxes, as there is\n  // no DOMParser on the server side. And Firefox does not render the SVG correctly without a\n  // viewBox that is the size of the svg referenced by <use ... />\n  // See also: https://github.com/framer/company/issues/24019\n  if (!svg.getAttribute(\"viewBox\")) {\n    const viewBox = sharedSVGManager.getViewBox(props.svg);\n    if (viewBox) {\n      svg.setAttribute(\"viewBox\", viewBox);\n    }\n  }\n  const {\n    withExternalLayout,\n    parentSize\n  } = props;\n  // SVGs rendered on the canvas will already have an explicit size calculated\n  // and set by the `collectLayout()` method, so we don't need to resize them\n  // again. When in a DOM Layout Stack or a code component parent size will be\n  // disabled for the current level, so sizes won't be calculated, and SVGs\n  // will be treated as if they have external layout.\n  const canUseCalculatedOnCanvasSize = !withExternalLayout && constraintsEnabled(props) && parentSize !== ParentSizeState.Disabled && parentSize !== ParentSizeState.DisabledForCurrentLevel;\n  if (canUseCalculatedOnCanvasSize) return;\n  const {\n    intrinsicWidth,\n    intrinsicHeight,\n    _constraints\n  } = props;\n  if (svg.viewBox.baseVal?.width === 0 && svg.viewBox.baseVal?.height === 0 && isFiniteNumber(intrinsicWidth) && isFiniteNumber(intrinsicHeight)) {\n    svg.setAttribute(\"viewBox\", `0 0 ${intrinsicWidth} ${intrinsicHeight}`);\n  }\n  // XXX TODO take the value from _constraints.aspectRatio into account\n  if (_constraints && _constraints.aspectRatio) {\n    svg.setAttribute(\"preserveAspectRatio\", \"\");\n  } else {\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n  }\n  svg.setAttribute(\"width\", \"100%\");\n  svg.setAttribute(\"height\", \"100%\");\n}\nexport const SVGComponent = /* @__PURE__ */(() => {\n  return class SVGComponentInner extends Layer {\n    static supportsConstraints = true;\n    static defaultSVGProps = {\n      left: undefined,\n      right: undefined,\n      top: undefined,\n      bottom: undefined,\n      style: undefined,\n      _constraints: {\n        enabled: true,\n        aspectRatio: null\n      },\n      parentSize: ParentSizeState.Unknown,\n      rotation: 0,\n      visible: true,\n      svg: \"\",\n      shadows: []\n    };\n    static defaultProps = {\n      ...Layer.defaultProps,\n      ...SVGComponentInner.defaultSVGProps\n    };\n    static frame(props) {\n      return calculateRect(props, props.parentSize || ParentSizeState.Unknown);\n    }\n    container = React.createRef();\n    svgElement = null;\n    setSVGElement = element => {\n      this.svgElement = element;\n      this.setLayerElement(element);\n    };\n    previouslyRenderedSVG = \"\";\n    get frame() {\n      return calculateRect(this.props, this.props.parentSize || ParentSizeState.Unknown);\n    }\n    unmountedSVG = \"\";\n    componentDidMount() {\n      // This normally isn't called, but in strict+dev mode, react will call will did mount,\n      // will unmount, did mount. If no render follows afterwards, the svg will disappear from the\n      // page after 5 seconds.\n      if (this.unmountedSVG) {\n        const {\n          svgContentId\n        } = this.props;\n        const contentid = svgContentId ? \"svg\" + svgContentId : null;\n        sharedSVGManager.subscribe(this.unmountedSVG, !svgContentId, contentid);\n        this.previouslyRenderedSVG = this.unmountedSVG;\n      }\n      if (this.props.svgContentId) return;\n      sizeSVG(this.container, this.props);\n    }\n    componentWillUnmount() {\n      sharedSVGManager.unsubscribe(this.previouslyRenderedSVG);\n      this.unmountedSVG = this.previouslyRenderedSVG;\n      this.previouslyRenderedSVG = \"\";\n    }\n    componentDidUpdate(prevProps) {\n      super.componentDidUpdate(prevProps);\n      if (this.props.svgContentId) return;\n      const {\n        fill\n      } = this.props;\n      if (BackgroundImage.isImageObject(fill) && BackgroundImage.isImageObject(prevProps.fill) && fill.src !== prevProps.fill.src) {\n        resetSetStyle(this.svgElement, \"fill\", null, false);\n      }\n      sizeSVG(this.container, this.props);\n    }\n    collectLayout(style, innerStyle) {\n      if (this.props.withExternalLayout) {\n        // When the outer element is already sized correclty the inner element needs to fill it.\n        innerStyle.width = \"100%\";\n        innerStyle.height = \"100%\";\n        innerStyle.aspectRatio = \"inherit\";\n        return;\n      }\n      const frame = this.frame;\n      const {\n        rotation,\n        intrinsicWidth,\n        intrinsicHeight,\n        width,\n        height\n      } = this.props;\n      const rotate = Animatable.getNumber(rotation);\n      style.opacity = isFiniteNumber(this.props.opacity) ? this.props.opacity : 1;\n      /**\n       * The if-statement below switches between positioning the SVG with\n       * transforms or (in the else statement) with DOM-layout.\n       *\n       * On the canvas (when RenderTarget.hasRestrictions()) we want to\n       * position with transforms for performance reasons. When dragging an\n       * SVG around, if we can reposition an SVG using transforms, it won't\n       * trigger a browser layout.\n       *\n       * In the preview we always position with DOM-layout, to not interfere\n       * with Magic Motion that uses the transforms for animating.\n       *\n       * However, there might be cases where we do not have a frame to use for\n       * positioning the SVG using transforms. For example when rendering\n       * inside a Scroll component (that uses DOM-layout for it's children,\n       * also on the canvas), we cannot always calculate a frame. In these\n       * cases we do use DOM-layout to position the SVG, even on the canvas.\n       */\n      if (RenderTarget.hasRestrictions() && frame) {\n        Object.assign(style, {\n          transform: `translate(${frame.x}px, ${frame.y}px) rotate(${rotate.toFixed(4)}deg)`,\n          width: `${frame.width}px`,\n          height: `${frame.height}px`\n        });\n        if (constraintsEnabled(this.props)) {\n          style.position = \"absolute\";\n        }\n        const xFactor = frame.width / (intrinsicWidth || 1);\n        const yFactor = frame.height / (intrinsicHeight || 1);\n        innerStyle.transformOrigin = \"top left\";\n        const {\n          zoom,\n          target\n        } = RenderEnvironment;\n        if (target === RenderTarget.export) {\n          const zoomFactor = zoom > 1 ? zoom : 1;\n          innerStyle.transform = `scale(${xFactor * zoomFactor}, ${yFactor * zoomFactor})`;\n          innerStyle.zoom = 1 / zoomFactor;\n        } else {\n          innerStyle.transform = `scale(${xFactor}, ${yFactor})`;\n        }\n        if (intrinsicWidth && intrinsicHeight) {\n          innerStyle.width = intrinsicWidth;\n          innerStyle.height = intrinsicHeight;\n        }\n      } else {\n        const {\n          left,\n          right,\n          top,\n          bottom\n        } = this.props;\n        Object.assign(style, {\n          left,\n          right,\n          top,\n          bottom,\n          width,\n          height,\n          rotate\n        });\n        Object.assign(innerStyle, {\n          left: 0,\n          top: 0,\n          bottom: 0,\n          right: 0,\n          position: \"absolute\"\n        });\n      }\n    }\n    render() {\n      if (process.env.NODE_ENV !== \"production\" && safeWindow[\"perf\"]) safeWindow[\"perf\"].nodeRender();\n      const {\n        id,\n        visible,\n        style,\n        fill,\n        svg,\n        intrinsicHeight,\n        intrinsicWidth,\n        ariaId = \"\",\n        title,\n        description,\n        layoutId,\n        className,\n        variants,\n        withExternalLayout,\n        innerRef,\n        svgContentId,\n        height,\n        opacity,\n        width,\n        ...rest\n      } = this.props;\n      if (!withExternalLayout && (!visible || !id)) return null;\n      const identifier = id ?? layoutId ?? \"svg\";\n      injectComponentCSSRules();\n      const frame = this.frame;\n      // XXX find another way to not need these defaults\n      const size = frame || {\n        width: intrinsicWidth || 100,\n        height: intrinsicHeight || 100\n      };\n      const outerStyle = {\n        ...style,\n        imageRendering: \"pixelated\",\n        flexShrink: 0\n      };\n      const innerStyle = {};\n      this.collectLayout(outerStyle, innerStyle);\n      collectOpacityFromProps(this.props, outerStyle);\n      collectFiltersFromProps(this.props, outerStyle);\n      Layer.applyWillChange(this.props, outerStyle, false);\n      /** The fillElement will be used an all paths in the SVG that have no fill set. */\n      let fillElement = null;\n      if (typeof fill === \"string\" || Color.isColorObject(fill)) {\n        const fillColor = Color.isColorObject(fill) ? fill.initialValue || Color.toRgbString(fill) : fill;\n        outerStyle.fill = fillColor;\n        outerStyle.color = fillColor;\n      } else if (LinearGradient.isLinearGradient(fill)) {\n        const gradient = fill;\n        // We need encodeURI() here to handle our old id's that contained special characters like ';'\n        // Creating an url() entry for those id's unescapes them, so we need to use the URI encoded version\n        const gradientId = `${encodeURI(id || \"\")}g${LinearGradient.hash(gradient)}`;\n        outerStyle.fill = `url(#${gradientId})`;\n        const {\n          stops,\n          x1,\n          x2,\n          y1,\n          y2\n        } = elementPropertiesForLinearGradient(gradient, identifier);\n        fillElement = React.createElement(\"svg\", {\n          ref: this.setSVGElement,\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"100%\",\n          height: \"100%\",\n          style: {\n            position: \"absolute\"\n          }\n        }, React.createElement(\"linearGradient\", {\n          id: gradientId,\n          x1: x1,\n          x2: x2,\n          y1: y1,\n          y2: y2\n        }, stops.map((stop, idx) => {\n          return React.createElement(\"stop\", {\n            key: idx,\n            offset: stop.position,\n            stopColor: stop.color,\n            stopOpacity: stop.alpha\n          });\n        })));\n      } else if (RadialGradient.isRadialGradient(fill)) {\n        const gradient = fill;\n        // We need encodeURI() here to handle our old id's that contained special characters like ';'\n        // Creating an url() entry for those id's unescapes them, so we need to use the URI encoded version\n        const gradientId = `${encodeURI(id || \"\")}g${RadialGradient.hash(gradient)}`;\n        outerStyle.fill = `url(#${gradientId})`;\n        const elementProperties = elementPropertiesForRadialGradient(gradient, identifier);\n        fillElement = React.createElement(\"svg\", {\n          ref: this.setSVGElement,\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"100%\",\n          height: \"100%\",\n          style: {\n            position: \"absolute\"\n          }\n        }, React.createElement(\"radialGradient\", {\n          id: gradientId,\n          cy: gradient.centerAnchorY,\n          cx: gradient.centerAnchorX,\n          r: gradient.widthFactor\n        }, elementProperties.stops.map((stop, idx) => {\n          return React.createElement(\"stop\", {\n            key: idx,\n            offset: stop.position,\n            stopColor: stop.color,\n            stopOpacity: stop.alpha\n          });\n        })));\n      } else if (BackgroundImage.isImageObject(fill)) {\n        const imagePattern = imagePatternPropsForFill(fill, size, identifier);\n        if (imagePattern) {\n          outerStyle.fill = `url(#${imagePattern.id})`;\n          fillElement = React.createElement(\"svg\", {\n            ref: this.setSVGElement,\n            xmlns: \"http://www.w3.org/2000/svg\",\n            xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n            width: \"100%\",\n            height: \"100%\",\n            style: {\n              position: \"absolute\"\n            }\n          }, React.createElement(\"defs\", null, React.createElement(ImagePatternElement, {\n            ...imagePattern\n          })));\n        }\n      }\n      const dataProps = {\n        \"data-framer-component-type\": \"SVG\"\n      };\n      const hasTransformTemplate = !frame;\n      if (hasTransformTemplate) {\n        Object.assign(dataProps, layoutHintDataPropsForCenter(this.props.center));\n      }\n      // If the svg is smallish, and doesn't contain images, and there is no fill defined, and no\n      // background is defined, then we can use a much cheaper method to render this svg by using\n      // a backgroundImage data url.\n      const svgAsBackgroundImage = !fillElement && !outerStyle.fill && !outerStyle.background && !outerStyle.backgroundImage && svg.length < MAX_BACKGROUND_SVG_TEXT_LENGTH && !containsImageReference(svg) && !containsCustomPropertyReference(svg);\n      let content = null;\n      if (svgAsBackgroundImage) {\n        outerStyle.backgroundSize = \"100% 100%\";\n        outerStyle.backgroundImage = `url('data:image/svg+xml;utf8,${encodeURIComponent(svg)}')`;\n        sharedSVGManager.unsubscribe(this.previouslyRenderedSVG);\n        this.previouslyRenderedSVG = \"\";\n      } else {\n        const contentid = svgContentId ? \"svg\" + svgContentId : null;\n        const __html = sharedSVGManager.subscribe(svg, !svgContentId, contentid);\n        sharedSVGManager.unsubscribe(this.previouslyRenderedSVG);\n        this.previouslyRenderedSVG = svg;\n        if (hasBorderRadius(outerStyle)) {\n          // Border radius will have no effect on nested elements, unless we add overflow hidden\n          outerStyle.overflow = \"hidden\";\n        }\n        // Note how the fillElement and fill is used below, via css a fill is set, then any svg\n        // path that doesn't have a fill set will take on this fill.\n        content = React.createElement(React.Fragment, null, fillElement, React.createElement(\"div\", {\n          key: BackgroundImage.isImageObject(fill) ? fill.src : \"\",\n          className: \"svgContainer\" // Style for this class is added by `injectComponentCSSRules`\n          ,\n          style: innerStyle,\n          ref: this.container,\n          dangerouslySetInnerHTML: {\n            __html\n          }\n        }));\n      }\n      // Tag support, aria support, link support\n      const MotionComponent = motion[this.props.as ?? \"div\"];\n      const {\n        href,\n        target,\n        rel,\n        onClick\n      } = this.props;\n      const ariaDescriptionId = ariaId + \"desc\";\n      return React.createElement(MotionComponent, {\n        ...dataProps,\n        ...rest,\n        layoutId: layoutId,\n        transformTemplate: hasTransformTemplate ? transformTemplate(this.props.center) : undefined,\n        id: id,\n        ref: innerRef,\n        style: outerStyle,\n        className: className,\n        variants: variants,\n        tabIndex: this.props.tabIndex,\n        role: title || description ? \"img\" : undefined,\n        \"aria-label\": title,\n        \"aria-describedby\": description ? ariaDescriptionId : undefined,\n        ...{\n          href,\n          target,\n          rel,\n          onClick\n        }\n      }, content, description && React.createElement(\"div\", {\n        style: VISUALLY_HIDDEN_STYLES,\n        id: ariaDescriptionId\n      }, description));\n    }\n  };\n})();\n/**\n * @name VISUALLY_HIDDEN_STYLES\n * Attention these styles are only visually hidden,\n * meaning they still exist in the DOM and are included in the Accessibility API (if applicable).\n */\nconst VISUALLY_HIDDEN_STYLES = {\n  clip: \"rect(1px, 1px, 1px, 1px)\",\n  clipPath: \"inset(50%)\",\n  height: \"1px\",\n  width: \"1px\",\n  margin: \"-1px\",\n  overflow: \"hidden\",\n  padding: 0,\n  position: \"absolute\"\n};","map":{"version":3,"names":["motion","process","React","Animatable","safeWindow","collectOpacityFromProps","BackgroundImage","Color","LinearGradient","calculateRect","constraintsEnabled","ParentSizeState","useParentSize","RadialGradient","RenderEnvironment","RenderTarget","elementPropertiesForLinearGradient","elementPropertiesForRadialGradient","collectFiltersFromProps","imagePatternPropsForFill","injectComponentCSSRules","isFiniteNumber","layoutHintDataPropsForCenter","transformTemplate","useLayoutId","useMeasureLayout","resetSetStyle","useProvidedWindow","ImagePatternElement","Layer","sharedSVGManager","SVG","props","parentSize","ariaId","useId","layoutId","layoutRef","useRef","providedWindow","createElement","SVGComponent","innerRef","MAX_BACKGROUND_SVG_TEXT_LENGTH","containsImageReference","svg","indexOf","containsCustomPropertyReference","hasBorderRadius","style","borderRadius","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","sizeSVG","container","div","current","localWindow","firstElementChild","SVGSVGElement","getAttribute","viewBox","getViewBox","setAttribute","withExternalLayout","canUseCalculatedOnCanvasSize","Disabled","DisabledForCurrentLevel","intrinsicWidth","intrinsicHeight","_constraints","baseVal","width","height","aspectRatio","SVGComponentInner","supportsConstraints","defaultSVGProps","left","undefined","right","top","bottom","enabled","Unknown","rotation","visible","shadows","defaultProps","frame","createRef","svgElement","setSVGElement","element","setLayerElement","previouslyRenderedSVG","unmountedSVG","componentDidMount","svgContentId","contentid","subscribe","componentWillUnmount","unsubscribe","componentDidUpdate","prevProps","fill","isImageObject","src","collectLayout","innerStyle","rotate","getNumber","opacity","hasRestrictions","Object","assign","transform","x","y","toFixed","position","xFactor","yFactor","transformOrigin","zoom","target","export","zoomFactor","render","env","NODE_ENV","nodeRender","id","title","description","className","variants","rest","identifier","size","outerStyle","imageRendering","flexShrink","applyWillChange","fillElement","isColorObject","fillColor","initialValue","toRgbString","color","isLinearGradient","gradient","gradientId","encodeURI","hash","stops","x1","x2","y1","y2","ref","xmlns","map","stop","idx","key","offset","stopColor","stopOpacity","alpha","isRadialGradient","elementProperties","cy","centerAnchorY","cx","centerAnchorX","r","widthFactor","imagePattern","xmlnsXlink","dataProps","hasTransformTemplate","center","svgAsBackgroundImage","background","backgroundImage","length","content","backgroundSize","encodeURIComponent","__html","overflow","Fragment","dangerouslySetInnerHTML","MotionComponent","as","href","rel","onClick","ariaDescriptionId","tabIndex","role","VISUALLY_HIDDEN_STYLES","clip","clipPath","margin","padding"],"sources":["../../../src/render/presentation/SVG.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}