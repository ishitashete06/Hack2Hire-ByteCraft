{"ast":null,"code":"import React, { createContext, useContext, useRef } from \"react\";\nimport { isEqual } from \"../render/utils/isEqual.js\";\n/**\n * This context is used to pass down component presets from the RichTextNode to\n * the component embeds in rich text in the CMS.\n */\nconst Context = /* @__PURE__ */createContext({});\nexport function ComponentPresetsProvider({\n  presets,\n  children\n}) {\n  const lastPresets = useRef(presets);\n  if (!isEqual(presets, lastPresets.current, false)) {\n    lastPresets.current = presets;\n  }\n  return React.createElement(Context.Provider, {\n    value: lastPresets.current\n  }, children);\n}\nexport function ComponentPresetsConsumer({\n  componentIdentifier,\n  children\n}) {\n  const componentPresets = useContext(Context);\n  const presetProps = componentPresets[componentIdentifier] ?? {};\n  return children(presetProps);\n}","map":{"version":3,"names":["React","createContext","useContext","useRef","isEqual","Context","ComponentPresetsProvider","presets","children","lastPresets","current","createElement","Provider","value","ComponentPresetsConsumer","componentIdentifier","componentPresets","presetProps"],"sources":["../../src/modules/ComponentPresetsContext.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,MAAM,QAAQ,OAAO;AAChE,SAASC,OAAO,QAAQ,4BAA4B;AAKpD;;;;AAKA,MAAMC,OAAO,GAAG,eAAgBJ,aAAa,CAAmB,EAAE,CAAC;AAOnE,OAAM,SAAUK,wBAAwBA,CAAC;EAAEC,OAAO;EAAEC;AAAQ,CAAiB;EACzE,MAAMC,WAAW,GAAGN,MAAM,CAAmBI,OAAO,CAAC;EAErD,IAAI,CAACH,OAAO,CAACG,OAAO,EAAEE,WAAW,CAACC,OAAO,EAAE,KAAK,CAAC,EAAE;IAC/CD,WAAW,CAACC,OAAO,GAAGH,OAAO;;EAGjC,OAAOP,KAAA,CAAAW,aAAA,CAACN,OAAO,CAACO,QAAQ;IAACC,KAAK,EAAEJ,WAAW,CAACC;EAAO,GAAGF,QAAQ,CAAoB;AACtF;AAOA,OAAM,SAAUM,wBAAwBA,CAAC;EAAEC,mBAAmB;EAAEP;AAAQ,CAAiB;EACrF,MAAMQ,gBAAgB,GAAGd,UAAU,CAACG,OAAO,CAAC;EAC5C,MAAMY,WAAW,GAAGD,gBAAgB,CAACD,mBAAmB,CAAC,IAAI,EAAE;EAE/D,OAAOP,QAAQ,CAACS,WAAW,CAAC;AAChC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}