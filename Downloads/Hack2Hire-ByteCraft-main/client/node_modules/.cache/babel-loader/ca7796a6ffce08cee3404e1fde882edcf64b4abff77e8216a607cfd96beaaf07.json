{"ast":null,"code":"import process from \"process\";\nimport { safeWindow } from \"../utils/safeWindow.js\";\nimport { safeNavigator } from \"./safeNavigator.js\";\nexport const isBrowser = () => typeof document === \"object\";\nexport const isWebKit = () => safeNavigator?.userAgent.includes(\"AppleWebKit/\") && !isChrome() && !isEdge();\nexport const webkitVersion = () => {\n  let version = -1;\n  const regexp = /AppleWebKit\\/([\\d.]+)/;\n  const result = safeNavigator && regexp.exec(safeNavigator.userAgent);\n  if (result && result[1]) {\n    version = parseFloat(result[1]);\n  }\n  return version;\n};\nexport const safariVersion = () => {\n  let version = -1;\n  const regexp = /Version\\/([\\d.]+)/;\n  const result = safeNavigator && regexp.exec(safeNavigator.userAgent);\n  if (result && result[1]) {\n    version = parseFloat(result[1]);\n  }\n  return version;\n};\nexport const isChrome = () => safeNavigator && /Chrome/.test(safeNavigator.userAgent) && /Google Inc/.test(safeNavigator.vendor) && !isEdge();\nexport const isSafari = () => safeNavigator && /Safari/.test(safeNavigator.userAgent) && /Apple Computer/.test(safeNavigator.vendor);\nexport const isFirefox = () => safeNavigator && /Firefox\\/\\d+\\.\\d+$/.test(safeNavigator.userAgent);\nexport const isFramerX = () => safeNavigator && /FramerX/.test(safeNavigator.userAgent);\nexport const isEdge = () => safeNavigator && /Edg\\//.test(safeNavigator.userAgent);\nexport const isAndroid = () => safeNavigator && /(android)/i.test(safeNavigator.userAgent);\nexport const isIOS = () => safeNavigator && /(iPhone|iPod|iPad)/i.test(safeNavigator.platform);\nexport const isMacOS = () => safeNavigator && /Mac/.test(safeNavigator.platform);\nexport const isWindows = () => safeNavigator && /Win/.test(safeNavigator.platform);\nexport const isTouch = () => safeWindow.ontouchstart === null && safeWindow.ontouchmove === null && safeWindow.ontouchend === null;\nexport const isDesktop = () => deviceType() === \"desktop\";\nexport const isPhone = () => deviceType() === \"phone\";\nexport const isTablet = () => deviceType() === \"tablet\";\nexport const isMobile = () => isPhone() || isTablet();\nexport const isFileUrl = url => url.startsWith(\"file://\");\nexport const isDataUrl = url => url.startsWith(\"data:\");\nexport const isTest = () => process.env.NODE_ENV === \"test\";\n// Prettier removes the extra parentheses, but without them, VS Code syntax\n// highlighting goes haywire.\n//\n// prettier-ignore\nexport const isRelativeUrl = url => !/^([a-zA-Z]{1,8}:\\/\\/).*$/.test(url);\nexport const isLocalServerUrl = url => /[a-zA-Z]{1,8}:\\/\\/127\\.0\\.0\\.1/.test(url) || /[a-zA-Z]{1,8}:\\/\\/localhost/.test(url);\nexport const isLocalUrl = url => {\n  if (isFileUrl(url)) return true;\n  if (isLocalServerUrl(url)) return true;\n  return false;\n};\nexport const isLocalAssetUrl = (url, baseUrl) => {\n  if (baseUrl === null) baseUrl = safeWindow.location.href;\n  if (isDataUrl(url)) return false;\n  if (isLocalUrl(url)) return true;\n  if (isRelativeUrl(url) && isLocalUrl(baseUrl)) return true;\n  return false;\n};\nexport const devicePixelRatio = () => safeWindow.devicePixelRatio;\nexport const isJP2Supported = function () {\n  if (isFirefox()) return false;\n  return isWebKit();\n};\nexport const isWebPSupported = () => isChrome();\nexport const deviceType = () => {\n  // https://github.com/jeffmcmahan/device-detective/blob/master/bin/device-detect.js\n  if (safeNavigator && /(tablet)|(iPad)|(Nexus 9)/i.test(safeNavigator.userAgent)) return \"tablet\";\n  if (safeNavigator && /(mobi)/i.test(safeNavigator.userAgent)) return \"phone\";\n  return \"desktop\";\n};\nexport const deviceOS = () => {\n  if (isMacOS()) return \"macos\";\n  if (isIOS()) return \"ios\";\n  if (isAndroid()) return \"android\";\n  if (isWindows()) return \"windows\";\n};\nexport const deviceFont = os => {\n  // https://github.com/jonathantneal/system-font-css\n  if (!os) {\n    os = deviceOS();\n  }\n  const fonts = {\n    apple: \"-apple-system, BlinkMacSystemFont, SF Pro Text, SF UI Text, Helvetica Neue\",\n    google: \"Roboto, Helvetica Neue\",\n    microsoft: \"Segoe UI, Helvetica Neue\"\n  };\n  if (os === \"macos\") return fonts.apple;\n  if (os === \"ios\") return fonts.apple;\n  if (os === \"android\") return fonts.google;\n  if (os === \"windows\") return fonts.microsoft;\n  return fonts.apple;\n};\n// XXX: Workaround for https://github.com/microsoft/rushstack/issues/1029\n/** @internal */\nexport const environment = {\n  isWebKit,\n  webkitVersion,\n  isChrome,\n  isSafari,\n  isFirefox,\n  isFramerX,\n  isEdge,\n  isAndroid,\n  isIOS,\n  isMacOS,\n  isWindows,\n  isTouch,\n  isDesktop,\n  isPhone,\n  isTablet,\n  isMobile,\n  isFileUrl,\n  isDataUrl,\n  isRelativeUrl,\n  isLocalServerUrl,\n  isLocalUrl,\n  isLocalAssetUrl,\n  devicePixelRatio,\n  isJP2Supported,\n  isWebPSupported,\n  deviceType,\n  deviceOS,\n  deviceFont,\n  safariVersion\n};","map":{"version":3,"names":["process","safeWindow","safeNavigator","isBrowser","document","isWebKit","userAgent","includes","isChrome","isEdge","webkitVersion","version","regexp","result","exec","parseFloat","safariVersion","test","vendor","isSafari","isFirefox","isFramerX","isAndroid","isIOS","platform","isMacOS","isWindows","isTouch","ontouchstart","ontouchmove","ontouchend","isDesktop","deviceType","isPhone","isTablet","isMobile","isFileUrl","url","startsWith","isDataUrl","isTest","env","NODE_ENV","isRelativeUrl","isLocalServerUrl","isLocalUrl","isLocalAssetUrl","baseUrl","location","href","devicePixelRatio","isJP2Supported","isWebPSupported","deviceOS","deviceFont","os","fonts","apple","google","microsoft","environment"],"sources":["../../src/utils/environment.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}