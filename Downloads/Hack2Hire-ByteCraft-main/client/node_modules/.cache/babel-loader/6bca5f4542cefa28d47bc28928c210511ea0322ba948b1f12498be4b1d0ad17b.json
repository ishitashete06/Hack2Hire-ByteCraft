{"ast":null,"code":"import HSLUV from \"hsluv\";\nimport { cssNames } from \"./CSSNames.js\";\nimport { ColorFormat } from \"./types.js\";\nimport { isNumeric, percentToFraction } from \"./Utils.js\";\nconst {\n  hsluvToRgb,\n  rgbToHsluv: rgbToHsluvExternal\n} = HSLUV;\nexport function rgbToHsluv(r, g, b) {\n  const [h, s, l] = rgbToHsluvExternal([r / 255, g / 255, b / 255]);\n  return {\n    h,\n    s,\n    l\n  };\n}\nexport function rgbaFromHusl(h, s, l, a = 1) {\n  const rgb = hsluvToRgb([h, s, l]);\n  return {\n    r: rgb[0] * 255,\n    g: rgb[1] * 255,\n    b: rgb[2] * 255,\n    a: a\n  };\n}\nexport function hsvToStr(h, s, v, a) {\n  const _h = Math.round(h);\n  const _s = Math.round(s * 100);\n  const _v = Math.round(v * 100);\n  return a === undefined || a === 1 ? \"hsv(\" + _h + \", \" + _s + \"%, \" + _v + \"%)\" : \"hsva(\" + _h + \", \" + _s + \"%, \" + _v + \"%, \" + a + \")\";\n}\nexport function rgbToRgb(r, g, b) {\n  return {\n    r: isNumeric(r) ? bound01(r, 255) * 255 : 0,\n    g: isNumeric(g) ? bound01(g, 255) * 255 : 0,\n    b: isNumeric(b) ? bound01(b, 255) * 255 : 0\n  };\n}\nexport function rgbToHex(r, g, b, allow3Char) {\n  const hex = [pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16))];\n  if (allow3Char && hex[0].charAt(0) === hex[0].charAt(1) && hex[1].charAt(0) === hex[1].charAt(1) && hex[2].charAt(0) === hex[2].charAt(1)) {\n    return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n  }\n  return hex.join(\"\");\n}\nexport function rgbToHsl(r, g, b) {\n  let l;\n  let s;\n  const _r = bound01(r, 255);\n  const _g = bound01(g, 255);\n  const _b = bound01(b, 255);\n  const max = Math.max(_r, _g, _b);\n  const min = Math.min(_r, _g, _b);\n  let h = s = l = (max + min) / 2;\n  if (max === min) {\n    h = s = 0;\n  } else {\n    const d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case _r:\n        h = (_g - _b) / d + (_g < _b ? 6 : 0);\n        break;\n      case _g:\n        h = (_b - _r) / d + 2;\n        break;\n      case _b:\n        h = (_r - _g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return {\n    h: h * 360,\n    s,\n    l\n  };\n}\nfunction hue2rgb(p, q, t) {\n  if (t < 0) {\n    t += 1;\n  }\n  if (t > 1) {\n    t -= 1;\n  }\n  if (t < 1 / 6) {\n    return p + (q - p) * 6 * t;\n  }\n  if (t < 1 / 2) {\n    return q;\n  }\n  if (t < 2 / 3) {\n    return p + (q - p) * (2 / 3 - t) * 6;\n  }\n  return p;\n}\n// HSL to RGB\nexport function hslToRgb(h, s, l) {\n  let r;\n  let g;\n  let b;\n  h = bound01(h, 360);\n  s = bound01(s * 100, 100);\n  l = bound01(l * 100, 100);\n  if (s === 0) {\n    r = g = b = l; // Achromatic\n  } else {\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n  return {\n    r: r * 255,\n    g: g * 255,\n    b: b * 255\n  };\n}\nexport function rgbToHsv(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const d = max - min;\n  let h;\n  const s = max === 0 ? 0 : d / max;\n  const v = max;\n  if (max === min) {\n    h = 0; // achromatic\n  } else {\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return {\n    h: h,\n    s,\n    v\n  };\n}\nexport function hsvToRgb(h, s, v) {\n  h = bound01(h, 360) * 6;\n  s = bound01(s * 100, 100);\n  v = bound01(v * 100, 100);\n  const i = Math.floor(h);\n  const f = h - i;\n  const p = v * (1 - s);\n  const q = v * (1 - f * s);\n  const t = v * (1 - (1 - f) * s);\n  const mod = i % 6;\n  const r = [v, q, p, p, t, v][mod];\n  const g = [t, v, v, q, p, p][mod];\n  const b = [p, p, t, v, v, q][mod];\n  // @ts-ignore: Suppress the noUncheckedIndexedAccess error on this line. The\n  // modulo result should range from 0~5, so cannot go out of bound of the\n  // array.\n  return {\n    r: r * 255,\n    g: g * 255,\n    b: b * 255\n  };\n}\nfunction bound01(n, max) {\n  let _max;\n  let _n;\n  if (typeof max === \"string\") _max = parseFloat(max);else _max = max;\n  if (typeof n === \"string\") {\n    if (isOnePointZero(n)) {\n      n = \"100%\";\n    }\n    const processPercent = isPercentage(n);\n    _n = Math.min(_max, Math.max(0, parseFloat(n)));\n    // Automatically convert percentage into number\n    if (processPercent) {\n      _n = Math.floor(_n * _max) / 100;\n    }\n  } else {\n    _n = n;\n  }\n  // Handle floating point rounding errors\n  if (Math.abs(_n - _max) < 0.000001) {\n    return 1;\n  }\n  // Convert into [0, 1] range if it isn't already\n  return _n % _max / _max;\n}\nfunction isOnePointZero(n) {\n  return typeof n === \"string\" && n.includes(\".\") && parseFloat(n) === 1;\n}\nfunction isPercentage(n) {\n  return typeof n === \"string\" && n.includes(\"%\");\n}\nfunction pad2(char) {\n  if (char.length === 1) {\n    return \"0\" + char;\n  } else {\n    return \"\" + char;\n  }\n}\nconst matchers = function () {\n  const cssInteger = \"[-\\\\+]?\\\\d+%?\";\n  const cssNumber = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n  const cssUnit = \"(?:\" + cssNumber + \")|(?:\" + cssInteger + \")\";\n  const permissiveMatch3 = \"[\\\\s|\\\\(]+(\" + cssUnit + \")[,|\\\\s]+(\" + cssUnit + \")[,|\\\\s]+(\" + cssUnit + \")\\\\s*\\\\)?\";\n  const permissiveMatch4 = \"[\\\\s|\\\\(]+(\" + cssUnit + \")[,|\\\\s]+(\" + cssUnit + \")[,|\\\\s]+(\" + cssUnit + \")[,|\\\\s]+(\" + cssUnit + \")\\\\s*\\\\)?\";\n  return {\n    rgb: new RegExp(\"rgb\" + permissiveMatch3),\n    rgba: new RegExp(\"rgba\" + permissiveMatch4),\n    hsl: new RegExp(\"hsl\" + permissiveMatch3),\n    hsla: new RegExp(\"hsla\" + permissiveMatch4),\n    hsv: new RegExp(\"hsv\" + permissiveMatch3),\n    hsva: new RegExp(\"hsva\" + permissiveMatch4),\n    hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n  };\n}();\nexport function stringToObject(inputColor) {\n  // Early return for gradients\n  if (inputColor.includes(\"gradient(\")) return false;\n  // Early return for variables\n  if (inputColor.includes(\"var(\")) return false;\n  const trimLeft = /^[\\s,#]+/;\n  const trimRight = /\\s+$/;\n  let color = inputColor.replace(trimLeft, \"\").replace(trimRight, \"\").toLowerCase();\n  let named = false;\n  if (cssNames[color]) {\n    color = cssNames[color];\n    named = true;\n  }\n  if (color === \"transparent\") {\n    return {\n      r: 0,\n      g: 0,\n      b: 0,\n      a: 0,\n      format: ColorFormat.NAME\n    };\n  }\n  let match;\n  if (match = matchers.rgb.exec(color)) {\n    return {\n      r: parseInt(match[1] ?? \"\"),\n      g: parseInt(match[2] ?? \"\"),\n      b: parseInt(match[3] ?? \"\"),\n      a: 1,\n      format: ColorFormat.RGB\n    };\n  }\n  if (match = matchers.rgba.exec(color)) {\n    return {\n      r: parseInt(match[1] ?? \"\"),\n      g: parseInt(match[2] ?? \"\"),\n      b: parseInt(match[3] ?? \"\"),\n      a: parseFloat(match[4] ?? \"\"),\n      format: ColorFormat.RGB\n    };\n  }\n  if (match = matchers.hsl.exec(color)) {\n    return {\n      h: parseInt(match[1] ?? \"\"),\n      s: percentToFraction(match[2] ?? \"\"),\n      l: percentToFraction(match[3] ?? \"\"),\n      a: 1,\n      format: ColorFormat.HSL\n    };\n  }\n  if (match = matchers.hsla.exec(color)) {\n    return {\n      h: parseInt(match[1] ?? \"\"),\n      s: percentToFraction(match[2] ?? \"\"),\n      l: percentToFraction(match[3] ?? \"\"),\n      a: parseFloat(match[4] ?? \"\"),\n      format: ColorFormat.HSL\n    };\n  }\n  if (match = matchers.hsv.exec(color)) {\n    return {\n      h: parseInt(match[1] ?? \"\"),\n      s: percentToFraction(match[2] ?? \"\"),\n      v: percentToFraction(match[3] ?? \"\"),\n      a: 1,\n      format: ColorFormat.HSV\n    };\n  }\n  if (match = matchers.hsva.exec(color)) {\n    return {\n      h: parseInt(match[1] ?? \"\"),\n      s: percentToFraction(match[2] ?? \"\"),\n      v: percentToFraction(match[3] ?? \"\"),\n      a: parseFloat(match[4] ?? \"\"),\n      format: ColorFormat.HSV\n    };\n  }\n  if (match = matchers.hex8.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1] ?? \"\"),\n      g: parseIntFromHex(match[2] ?? \"\"),\n      b: parseIntFromHex(match[3] ?? \"\"),\n      a: convertHexToDecimal(match[4] ?? \"\"),\n      format: named ? ColorFormat.NAME : ColorFormat.HEX\n    };\n  }\n  if (match = matchers.hex6.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1] ?? \"\"),\n      g: parseIntFromHex(match[2] ?? \"\"),\n      b: parseIntFromHex(match[3] ?? \"\"),\n      a: 1,\n      format: named ? ColorFormat.NAME : ColorFormat.HEX\n    };\n  }\n  if (match = matchers.hex4.exec(color)) {\n    return {\n      r: parseIntFromHex(`${match[1]}${match[1]}`),\n      g: parseIntFromHex(`${match[2]}${match[2]}`),\n      b: parseIntFromHex(`${match[3]}${match[3]}`),\n      a: convertHexToDecimal(match[4] + \"\" + match[4]),\n      format: named ? ColorFormat.NAME : ColorFormat.HEX\n    };\n  }\n  if (match = matchers.hex3.exec(color)) {\n    return {\n      r: parseIntFromHex(`${match[1]}${match[1]}`),\n      g: parseIntFromHex(`${match[2]}${match[2]}`),\n      b: parseIntFromHex(`${match[3]}${match[3]}`),\n      a: 1,\n      format: named ? ColorFormat.NAME : ColorFormat.HEX\n    };\n  } else {\n    return false;\n  }\n}\nfunction parseIntFromHex(hex) {\n  return parseInt(hex, 16);\n}\nfunction convertHexToDecimal(h) {\n  return parseIntFromHex(h) / 255;\n}","map":{"version":3,"names":["HSLUV","cssNames","ColorFormat","isNumeric","percentToFraction","hsluvToRgb","rgbToHsluv","rgbToHsluvExternal","r","g","b","h","s","l","rgbaFromHusl","a","rgb","hsvToStr","v","_h","Math","round","_s","_v","undefined","rgbToRgb","bound01","rgbToHex","allow3Char","hex","pad2","toString","charAt","join","rgbToHsl","_r","_g","_b","max","min","d","hue2rgb","p","q","t","hslToRgb","rgbToHsv","hsvToRgb","i","floor","f","mod","n","_max","_n","parseFloat","isOnePointZero","processPercent","isPercentage","abs","includes","char","length","matchers","cssInteger","cssNumber","cssUnit","permissiveMatch3","permissiveMatch4","RegExp","rgba","hsl","hsla","hsv","hsva","hex3","hex6","hex4","hex8","stringToObject","inputColor","trimLeft","trimRight","color","replace","toLowerCase","named","format","NAME","match","exec","parseInt","RGB","HSL","HSV","parseIntFromHex","convertHexToDecimal","HEX"],"sources":["../../../../src/render/types/Color/converters.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}