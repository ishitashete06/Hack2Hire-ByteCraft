{"ast":null,"code":"import { isValidMotionProp, motion, resolveMotionValue } from \"framer-motion\";\nimport process from \"process\";\nimport React, { forwardRef, useContext, useRef } from \"react\";\nimport { isPropValid } from \"../../../utils/isPropValid.js\";\nimport { safeWindow } from \"../../../utils/safeWindow.js\";\nimport { BackgroundImageComponent } from \"../../style/BackgroundImageComponent.js\";\nimport { backgroundImageFromProps } from \"../../style/backgroundImageFromProps.js\";\nimport { Border } from \"../../style/BorderComponent.js\";\nimport { DimensionType } from \"../../types/Constraints.js\";\nimport { constraintsEnabled, ParentSizeState, useConstraints, useProvideParentSize } from \"../../types/NewConstraints.js\";\nimport { RenderTarget } from \"../../types/RenderEnvironment.js\";\nimport { injectComponentCSSRules } from \"../../utils/injectComponentCSSRules.js\";\nimport { layoutHintDataPropsForCenter } from \"../../utils/layoutHintDataPropsForCenter.js\";\nimport { nodeIdFromString } from \"../../utils/nodeIdFromString.js\";\nimport { processOverrideForwarding } from \"../../utils/processOverrideForwarding.js\";\nimport { transformValues } from \"../../utils/transformCustomValues.js\";\nimport { transformTemplate } from \"../../utils/transformTemplate.js\";\nimport { useLayoutId } from \"../../utils/useLayoutId.js\";\nimport { useMeasureLayout } from \"../../utils/useMeasureLayout.js\";\nimport { ComponentContainerContext } from \"../ComponentContainerContext.js\";\nimport { Layer } from \"../Layer.js\";\nimport { getStyleForFrameProps, hasLeftAndRight, hasTopAndBottom } from \"./getStyleForFrameProps.js\";\nfunction hasEvents(props) {\n  for (const key in props) {\n    if (key === \"drag\" || key.startsWith(\"while\") || typeof props[key] === \"function\" && key.startsWith(\"on\") && !key.includes(\"Animation\")) {\n      return true;\n    }\n  }\n  return false;\n}\nconst pointerEvents = [\"onClick\", \"onDoubleClick\", \"onMouse\", \"onMouseDown\", \"onMouseUp\", \"onTapDown\", \"onTap\", \"onTapUp\", \"onPointer\", \"onPointerDown\", \"onPointerUp\", \"onTouch\", \"onTouchDown\", \"onTouchUp\"];\nconst pointerEventsSet = new Set([...pointerEvents, ...pointerEvents.map(event => `${event}Capture`) // Add capture event variants\n]);\nfunction getCursorFromEvents(props) {\n  if (props.drag) {\n    return \"grab\";\n  }\n  for (const key in props) {\n    if (pointerEventsSet.has(key)) {\n      return \"pointer\";\n    }\n  }\n  return undefined;\n}\nconst overflowKey = \"overflow\";\nfunction hasScrollableContent(props) {\n  if (hasScrollingOverflow(props)) return true;\n  if (!props.style) return false;\n  if (hasScrollingOverflow(props.style)) return true;\n  return false;\n}\nfunction hasScrollingOverflow(props) {\n  if (overflowKey in props && (props[overflowKey] === \"scroll\" || props[overflowKey] === \"auto\")) return true;\n  return false;\n}\n/** @internal */\nexport function unwrapFrameProps(frameProps) {\n  const {\n    left,\n    top,\n    bottom,\n    right,\n    width,\n    height,\n    center,\n    _constraints,\n    size,\n    widthType,\n    heightType,\n    positionFixed,\n    positionAbsolute\n  } = frameProps;\n  const minWidth = resolveMotionValue(frameProps.minWidth);\n  const minHeight = resolveMotionValue(frameProps.minHeight);\n  const maxWidth = resolveMotionValue(frameProps.maxWidth);\n  const maxHeight = resolveMotionValue(frameProps.maxHeight);\n  const constraintProps = {\n    top: resolveMotionValue(top),\n    left: resolveMotionValue(left),\n    bottom: resolveMotionValue(bottom),\n    right: resolveMotionValue(right),\n    width: resolveMotionValue(width),\n    height: resolveMotionValue(height),\n    size: resolveMotionValue(size),\n    center,\n    _constraints,\n    widthType,\n    heightType,\n    positionFixed,\n    positionAbsolute,\n    minWidth,\n    minHeight,\n    maxWidth,\n    maxHeight\n  };\n  return constraintProps;\n}\nexport const defaultFrameRect = {\n  x: 0,\n  y: 0,\n  width: 200,\n  height: 200\n};\nfunction useStyleAndRect(props) {\n  injectComponentCSSRules();\n  const inCodeComponent = Boolean(useContext(ComponentContainerContext));\n  const {\n    style,\n    _initialStyle,\n    __fromCanvasComponent,\n    size\n  } = props;\n  const unwrappedProps = unwrapFrameProps(props);\n  const constraintsRect = useConstraints(unwrappedProps);\n  const defaultStyle = {\n    display: \"block\",\n    flexShrink: 0,\n    userSelect: RenderTarget.current() !== RenderTarget.preview ? \"none\" : undefined\n  };\n  if (!props.__fromCanvasComponent) {\n    // XXX: this is hack until we find a better solution\n    defaultStyle.backgroundColor = props.background === undefined ? \"rgba(0, 170, 255, 0.3)\" : undefined;\n  }\n  // To support setting overflow: auto on stacks in generated code, especially\n  // in responsive screens, we need to ensure that pointerEvents: \"none\" is\n  // not set if the Frame has no interaction events. There is no other way to\n  // check in generated responsive screens, because overflow is set via css\n  // classes, not inline style.\n  const shouldDisablePointerEvents = !hasEvents(props) && !props.__fromCanvasComponent && !hasScrollableContent(props);\n  const safeToEditPointerEvents = props.style ? !(\"pointerEvents\" in props.style) : true;\n  if (shouldDisablePointerEvents && safeToEditPointerEvents) {\n    defaultStyle.pointerEvents = \"none\";\n  }\n  const addTextCentering = React.Children.count(props.children) > 0 && React.Children.toArray(props.children).every(child => {\n    return typeof child === \"string\" || typeof child === \"number\";\n  });\n  const centerTextStyle = addTextCentering && {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textAlign: \"center\"\n  };\n  const propsStyle = getStyleForFrameProps(props);\n  if (size === undefined && !__fromCanvasComponent) {\n    if (!hasLeftAndRight(propsStyle)) {\n      defaultStyle.width = defaultFrameRect.width;\n    }\n    if (!hasTopAndBottom(propsStyle)) {\n      defaultStyle.height = defaultFrameRect.height;\n    }\n  }\n  if (unwrappedProps.minWidth !== undefined) {\n    defaultStyle.minWidth = unwrappedProps.minWidth;\n  }\n  if (unwrappedProps.minHeight !== undefined) {\n    defaultStyle.minHeight = unwrappedProps.minHeight;\n  }\n  let constraintsStyle = {};\n  if (constraintsEnabled(unwrappedProps)) {\n    // When we have an auto-sized dimension, the constraints rect will be\n    // based on stale cached values, so we won't use it.\n    if (constraintsRect && !isAutoSized(props)) {\n      constraintsStyle = {\n        left: constraintsRect.x,\n        top: constraintsRect.y,\n        width: constraintsRect.width,\n        height: constraintsRect.height,\n        right: undefined,\n        bottom: undefined\n      };\n    }\n  }\n  // In theory we should not have constraints and props styles at the same time\n  // because we use constraints internally in vekter and top level props are only for usage from customer code\n  //\n  // In practice we have it with code overrides\n  // But we take `propsStyle` priority in any case now\n  Object.assign(defaultStyle, centerTextStyle, _initialStyle, propsStyle, constraintsStyle, style);\n  // React styling library doesn't work well when combining long-hand and short-hand values, so we just use short-hand values always\n  Object.assign(defaultStyle, {\n    overflowX: defaultStyle.overflowX ?? defaultStyle.overflow,\n    overflowY: defaultStyle.overflowY ?? defaultStyle.overflow,\n    overflow: undefined\n  });\n  Layer.applyWillChange(props, defaultStyle, true);\n  let resultStyle = defaultStyle;\n  if (!defaultStyle.transform) {\n    // Reset the transform explicitly, because Framer Motion will not treat undefined values as 0 and still generate a transform\n    resultStyle = {\n      x: 0,\n      y: 0,\n      ...defaultStyle\n    };\n  }\n  const onCanvas = RenderTarget.current() === RenderTarget.canvas;\n  if (props.positionSticky) {\n    if (!onCanvas || inCodeComponent) {\n      resultStyle.position = \"sticky\";\n      resultStyle.willChange = \"transform\";\n      resultStyle.zIndex = 1;\n      resultStyle.top = props.positionStickyTop;\n      resultStyle.right = props.positionStickyRight;\n      resultStyle.bottom = props.positionStickyBottom;\n      resultStyle.left = props.positionStickyLeft;\n    }\n  } else if (onCanvas && (props.positionFixed || props.positionAbsolute)) {\n    resultStyle.position = \"absolute\";\n  }\n  // Work around a framer-motion bug where key: undefined style values which\n  // are moved to transforms add `fn(undefined)` to the transform string. Issue:\n  // https://github.com/framer/company/issues/25915.\n  if (\"rotate\" in resultStyle && resultStyle.rotate === undefined) {\n    delete resultStyle.rotate;\n  }\n  return [resultStyle, constraintsRect];\n}\n// These properties are considered valid React DOM props because they're valid\n// SVG props, so we need to manually exclude them.\nconst filteredProps = new Set([\"width\", \"height\", \"opacity\", \"overflow\", \"radius\", \"background\", \"color\", \"x\", \"y\", \"z\", \"rotate\", \"rotateX\", \"rotateY\", \"rotateZ\", \"scale\", \"scaleX\", \"scaleY\", \"skew\", \"skewX\", \"skewY\", \"originX\", \"originY\", \"originZ\"]);\nfunction getMotionProps(props) {\n  const motionProps = {};\n  for (const key in props) {\n    const isValid = isValidMotionProp(key) || isPropValid(key);\n    if (isValid && !filteredProps.has(key)) {\n      motionProps[key] = props[key];\n      /**\n       * Support legacy layout animation props\n       */\n    } else if (key === \"positionTransition\" || key === \"layoutTransition\") {\n      motionProps[\"layout\"] = true;\n      if (typeof props[key] !== \"boolean\" && !props.transition) {\n        motionProps[\"transition\"] = props[key];\n      }\n    }\n  }\n  return motionProps;\n}\nfunction hasDataFramerName(props) {\n  return \"data-framer-name\" in props;\n}\n/** @internal */\nconst VisibleFrame = /* @__PURE__ */forwardRef(function VisibleFrame(props, forwardedRef) {\n  const {\n    name,\n    center,\n    border,\n    _border,\n    __portal\n  } = props;\n  const {\n    props: propsWithOverrides,\n    children\n  } = processOverrideForwarding(props);\n  const motionProps = getMotionProps(propsWithOverrides);\n  const layoutId = useLayoutId(props);\n  const cursor = getCursorFromEvents(props);\n  const fallbackRef = useRef(null);\n  const ref = forwardedRef ?? fallbackRef;\n  const dataProps = {\n    \"data-framer-component-type\": \"Frame\",\n    \"data-framer-cursor\": cursor,\n    \"data-framer-highlight\": cursor === \"pointer\" ? true : undefined,\n    \"data-layoutid\": layoutId\n  };\n  // Vekter provides the `data-framer-name` prop. However to maintain api\n  // compatibility when Frame is used in code, set `data-framer-name` if\n  // `name` is provided and `data-framer-name` is not.\n  if (!hasDataFramerName(props) && name) {\n    dataProps[\"data-framer-name\"] = name;\n  }\n  const [currentStyle, rect] = useStyleAndRect(propsWithOverrides);\n  const unwrappedProps = unwrapFrameProps(propsWithOverrides);\n  const autoSized = isAutoSized(unwrappedProps);\n  if (center && !(rect && !autoSized && constraintsEnabled(unwrappedProps))) {\n    if (!motionProps.transformTemplate) motionProps.transformTemplate = transformTemplate(center);\n    Object.assign(dataProps, layoutHintDataPropsForCenter(center));\n  } else if (!motionProps.transformTemplate) {\n    motionProps.transformTemplate = undefined;\n  }\n  useMeasureLayout(props, ref);\n  const backgroundImage = backgroundImageFromProps(props);\n  // The parentSize resolved here won't be used if a parent further up the\n  // tree disabled parent size resolution (e.g. when rendering inside a code component)\n  const inCodeComponent = Boolean(useContext(ComponentContainerContext));\n  const parentSize = resolveParentSize(propsWithOverrides, unwrappedProps, rect, inCodeComponent);\n  const wrappedContent = useProvideParentSize(React.createElement(React.Fragment, null, backgroundImage ? React.createElement(BackgroundImageComponent, {\n    alt: props.alt ?? \"\",\n    image: backgroundImage,\n    containerSize: rect ?? undefined,\n    nodeId: props.id && nodeIdFromString(props.id),\n    layoutId: layoutId\n  }) : null, children, React.createElement(Border, {\n    ..._border,\n    border: border,\n    layoutId: layoutId\n  })), parentSize);\n  // It gets a motion component based on the `as` prop.\n  // If `as` is not provided, it will default to `div`.\n  const MotionComponent = motion[props.as ?? \"div\"];\n  return React.createElement(MotionComponent, {\n    ...dataProps,\n    ...motionProps,\n    layoutId: layoutId,\n    style: currentStyle,\n    ref: ref,\n    transformValues: transformValues\n  }, wrappedContent, __portal);\n});\n/** @internal */\nexport const FrameWithMotion = /* @__PURE__ */forwardRef(function FrameWithMotion(props, ref) {\n  if (process.env.NODE_ENV !== \"production\" && safeWindow[\"perf\"]) safeWindow[\"perf\"].nodeRender();\n  const {\n    visible = true\n  } = props;\n  if (!visible) return null;\n  return React.createElement(VisibleFrame, {\n    ...props,\n    ref: ref\n  });\n});\nfunction resolveParentSize(props, unwrappedProps, rect, inCodeComponent) {\n  if (inCodeComponent) {\n    const parentSize = rect ? {\n      width: rect.width,\n      height: rect.height\n    } : ParentSizeState.Disabled;\n    return parentSize;\n  }\n  const {\n    _usesDOMRect\n  } = props;\n  const {\n    widthType = DimensionType.FixedNumber,\n    heightType = DimensionType.FixedNumber,\n    width,\n    height\n  } = unwrappedProps;\n  // The constraints rect might be based on stale layout information, or\n  // return defaults if this is a DOM layout node, so we won't use it unless\n  // `usesDOMRect` is also false\n  if (rect && !_usesDOMRect) {\n    return rect;\n  }\n  // Even if we can't resolve a full rect (e.g. when the node relies on DOM\n  // layout for positioning), we might still be able to provide a size if this\n  // is a fixed-size node\n  if (widthType === DimensionType.FixedNumber && heightType === DimensionType.FixedNumber && typeof width === \"number\" && typeof height === \"number\") {\n    return {\n      width,\n      height\n    };\n  }\n  // If this is a DOM layout node, or position fixed, we need to return\n  // DisabledForCurrentLevel, instead of Disabled, because that way children\n  // will still render using DOM layout, but we won't prevent any descendants\n  // from using a resolved parent size further down the hierarchy\n  if (_usesDOMRect || props.positionFixed || props.positionAbsolute) {\n    return ParentSizeState.DisabledForCurrentLevel;\n  }\n  // If all else fails, return unknown\n  return ParentSizeState.Unknown;\n}\nfunction isAutoSized({\n  width,\n  height\n}) {\n  return width === \"auto\" || width === \"min-content\" || height === \"auto\" || height === \"min-content\";\n}","map":{"version":3,"names":["isValidMotionProp","motion","resolveMotionValue","process","React","forwardRef","useContext","useRef","isPropValid","safeWindow","BackgroundImageComponent","backgroundImageFromProps","Border","DimensionType","constraintsEnabled","ParentSizeState","useConstraints","useProvideParentSize","RenderTarget","injectComponentCSSRules","layoutHintDataPropsForCenter","nodeIdFromString","processOverrideForwarding","transformValues","transformTemplate","useLayoutId","useMeasureLayout","ComponentContainerContext","Layer","getStyleForFrameProps","hasLeftAndRight","hasTopAndBottom","hasEvents","props","key","startsWith","includes","pointerEvents","pointerEventsSet","Set","map","event","getCursorFromEvents","drag","has","undefined","overflowKey","hasScrollableContent","hasScrollingOverflow","style","unwrapFrameProps","frameProps","left","top","bottom","right","width","height","center","_constraints","size","widthType","heightType","positionFixed","positionAbsolute","minWidth","minHeight","maxWidth","maxHeight","constraintProps","defaultFrameRect","x","y","useStyleAndRect","inCodeComponent","Boolean","_initialStyle","__fromCanvasComponent","unwrappedProps","constraintsRect","defaultStyle","display","flexShrink","userSelect","current","preview","backgroundColor","background","shouldDisablePointerEvents","safeToEditPointerEvents","addTextCentering","Children","count","children","toArray","every","child","centerTextStyle","alignItems","justifyContent","textAlign","propsStyle","constraintsStyle","isAutoSized","Object","assign","overflowX","overflow","overflowY","applyWillChange","resultStyle","transform","onCanvas","canvas","positionSticky","position","willChange","zIndex","positionStickyTop","positionStickyRight","positionStickyBottom","positionStickyLeft","rotate","filteredProps","getMotionProps","motionProps","isValid","transition","hasDataFramerName","VisibleFrame","forwardedRef","name","border","_border","__portal","propsWithOverrides","layoutId","cursor","fallbackRef","ref","dataProps","currentStyle","rect","autoSized","backgroundImage","parentSize","resolveParentSize","wrappedContent","createElement","Fragment","alt","image","containerSize","nodeId","id","MotionComponent","as","FrameWithMotion","env","NODE_ENV","nodeRender","visible","Disabled","_usesDOMRect","FixedNumber","DisabledForCurrentLevel","Unknown"],"sources":["../../../../src/render/presentation/Frame/FrameWithMotion.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}