{"ast":null,"code":"import React from \"react\";\nimport { fontStore } from \"./fontStore.js\";\n/**\n * @internal\n * Hook to subscribe to font store and get the current font loading status.\n * */\nexport function useFontLoadStatus(fontSelectors = [], timeout = 5000) {\n  const missingFontSelectors = fontSelectors.filter(s => !fontStore.isSelectorLoaded(s));\n  const [fontLoadStatus, setFontLoadStatus] = React.useState(missingFontSelectors.length ? \"loading\" : \"done\");\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  React.useEffect(() => {\n    if (!missingFontSelectors.length) return;\n    setFontLoadStatus(\"loading\");\n    const timer = setTimeout(() => {\n      setFontLoadStatus(\"timeout\");\n    }, timeout);\n    fontStore.loadWebFontsFromSelectors(missingFontSelectors).then(() => {\n      clearTimeout(timer);\n      setFontLoadStatus(\"done\");\n    });\n    // This is a poor mans version of shallow equal both arrays\n    // We need both the used and the missing font selectors\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fontSelectors.join(\", \"), missingFontSelectors.join(\", \")]);\n  return fontLoadStatus;\n}","map":{"version":3,"names":["React","fontStore","useFontLoadStatus","fontSelectors","timeout","missingFontSelectors","filter","s","isSelectorLoaded","fontLoadStatus","setFontLoadStatus","useState","length","useEffect","timer","setTimeout","loadWebFontsFromSelectors","then","clearTimeout","join"],"sources":["../../../src/render/fonts/useFontLoadStatus.tsx"],"sourcesContent":[null],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,gBAAgB;AAI1C;;;;AAIA,OAAM,SAAUC,iBAAiBA,CAACC,aAAA,GAA0B,EAAE,EAAEC,OAAO,GAAG,IAAI;EAC1E,MAAMC,oBAAoB,GAAGF,aAAa,CAACG,MAAM,CAACC,CAAC,IAAI,CAACN,SAAS,CAACO,gBAAgB,CAACD,CAAC,CAAC,CAAC;EACtF,MAAM,CAACE,cAAc,EAAEC,iBAAiB,CAAC,GAAGV,KAAK,CAACW,QAAQ,CACtDN,oBAAoB,CAACO,MAAM,GAAG,SAAS,GAAG,MAAM,CACnD;EAED;EACAZ,KAAK,CAACa,SAAS,CAAC,MAAK;IACjB,IAAI,CAACR,oBAAoB,CAACO,MAAM,EAAE;IAElCF,iBAAiB,CAAC,SAAS,CAAC;IAE5B,MAAMI,KAAK,GAAGC,UAAU,CAAC,MAAK;MAC1BL,iBAAiB,CAAC,SAAS,CAAC;IAChC,CAAC,EAAEN,OAAO,CAAC;IAEXH,SAAS,CAACe,yBAAyB,CAACX,oBAAoB,CAAC,CAACY,IAAI,CAAC,MAAK;MAChEC,YAAY,CAACJ,KAAK,CAAC;MACnBJ,iBAAiB,CAAC,MAAM,CAAC;IAC7B,CAAC,CAAC;IACF;IACA;IACA;EACJ,CAAC,EAAE,CAACP,aAAa,CAACgB,IAAI,CAAC,IAAI,CAAC,EAAEd,oBAAoB,CAACc,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;EAE/D,OAAOV,cAAc;AACzB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}