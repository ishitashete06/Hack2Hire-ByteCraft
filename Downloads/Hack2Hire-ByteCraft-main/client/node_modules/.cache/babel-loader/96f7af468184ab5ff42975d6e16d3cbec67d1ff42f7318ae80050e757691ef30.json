{"ast":null,"code":"import { Component } from \"react\";\nimport { isEqual } from \"../utils/isEqual.js\";\nimport { forceLayerBackingWithCSSProperties, forceLayerBackingWithMotionStyle } from \"../utils/setLayerBacked.js\";\nimport { resetSetStyle } from \"../utils/useWebkitFixes.js\";\n/**\n * @public\n */\nexport class Layer extends Component {\n  static defaultProps = {};\n  static applyWillChange(props, style, usingMotionStyle) {\n    if (props.willChangeTransform) {\n      if (usingMotionStyle) {\n        forceLayerBackingWithMotionStyle(style);\n      } else {\n        forceLayerBackingWithCSSProperties(style);\n      }\n    }\n  }\n  layerElement = null;\n  setLayerElement = element => {\n    this.layerElement = element;\n  };\n  /** @internal */\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps._needsMeasure || this.state !== nextState || !isEqual(this.props, nextProps);\n  }\n  /** @internal */\n  componentDidUpdate(prevProps) {\n    // Workarounds for WebKit bugs\n    // Some styles have to be toggled to take effect in certain situations.\n    // Not using type safety, uses lots of internal knowledge for efficiency\n    // To use this as a hook, see useWebKitFixes\n    if (this.props[\"clip\"] && this.props[\"radius\"] === 0 && prevProps[\"radius\"] !== 0) {\n      resetSetStyle(this.layerElement, \"overflow\", \"hidden\", false);\n    }\n  }\n}","map":{"version":3,"names":["Component","isEqual","forceLayerBackingWithCSSProperties","forceLayerBackingWithMotionStyle","resetSetStyle","Layer","defaultProps","applyWillChange","props","style","usingMotionStyle","willChangeTransform","layerElement","setLayerElement","element","shouldComponentUpdate","nextProps","nextState","_needsMeasure","state","componentDidUpdate","prevProps"],"sources":["../../../src/render/presentation/Layer.tsx"],"sourcesContent":[null],"mappings":"AAIA,SAAgBA,SAAS,QAAQ,OAAO;AACxC,SAASC,OAAO,QAAQ,qBAAqB;AAC7C,SAASC,kCAAkC,EAAEC,gCAAgC,QAAQ,4BAA4B;AACjH,SAASC,aAAa,QAAQ,4BAA4B;AA0C1D;;;AAGA,OAAM,MAAOC,KAAwC,SAAQL,SAAe;EACxE,OAAgBM,YAAY,GAAe,EAAE;EAE7C,OAAOC,eAAeA,CAACC,KAA8B,EAAEC,KAAkB,EAAEC,gBAAyB;IAChG,IAAIF,KAAK,CAACG,mBAAmB,EAAE;MAC3B,IAAID,gBAAgB,EAAE;QAClBP,gCAAgC,CAACM,KAAK,CAAC;OAC1C,MAAM;QACHP,kCAAkC,CAACO,KAA4B,CAAC;;;EAG5E;EAEQG,YAAY,GAAoC,IAAI;EAE5DC,eAAe,GAAIC,OAAwC,IAAI;IAC3D,IAAI,CAACF,YAAY,GAAGE,OAAO;EAC/B,CAAC;EAED;EACAC,qBAAqBA,CAACC,SAAY,EAAEC,SAAY;IAC5C,OAAOD,SAAS,CAACE,aAAa,IAAI,IAAI,CAACC,KAAK,KAAKF,SAAS,IAAI,CAAChB,OAAO,CAAC,IAAI,CAACO,KAAK,EAAEQ,SAAS,CAAC;EACjG;EAEA;EACAI,kBAAkBA,CAACC,SAAY;IAC3B;IAEA;IACA;IACA;IAEA,IAAI,IAAI,CAACb,KAAK,CAAC,MAAM,CAAC,IAAI,IAAI,CAACA,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAIa,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;MAC/EjB,aAAa,CAAC,IAAI,CAACQ,YAAY,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,CAAC;;EAErE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}